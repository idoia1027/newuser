<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>YouTube & X Assist · Prompt 预览版</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React & ReactDOM UMD -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Helvetica Neue", Arial, "Noto Sans SC", sans-serif;
      background-color: #f8fafc;
      color: #0f172a;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const Icons = {
      Play: (props) => (
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          {...props}
        >
          <polygon points="5 3 19 12 5 21 5 3" />
        </svg>
      ),
      Search: (props) => (
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          {...props}
        >
          <circle cx="11" cy="11" r="8" />
          <line x1="21" y1="21" x2="16.65" y2="16.65" />
        </svg>
      ),
      XLogo: (props) => (
        <svg viewBox="0 0 24 24" fill="currentColor" {...props}>
          <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
        </svg>
      ),
      ChevronDown: (props) => (
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          {...props}
        >
          <polyline points="6 9 12 15 18 9" />
        </svg>
      ),
      ChevronUp: (props) => (
        <svg
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          {...props}
        >
          <polyline points="18 15 12 9 6 15" />
        </svg>
      ),
    };

    // ==== 首页示例数据 ====
    const SAMPLE_HOME = {
      x_updates: [
        {
          id: 301,
          author: "Andrej Karpathy",
          handle: "@karpathy",
          avatar: "https://picsum.photos/seed/karpathy/80/80",
          date: "Dec 8",
          summary_cn:
            "不要把 LLM 视为实体，应视为“模拟器”。问“如果是某类人会怎么说”比问“你怎么看”更有效。",
          summary_en:
            "Don't treat LLMs as entities but as simulators. Ask 'What would [group] say?' instead of 'What do you think?'.",
          original_text:
            "Don't think of LLMs as entities but as simulators. For example, when exploring a topic, don't ask 'What do you think about xyz?' There is no 'you'. Next time try: 'What would be a good group of people to explore xyz? What would they say?'",
          url: "https://x.com/karpathy",
          has_image: false,
        },
        {
          id: 302,
          author: "Yann LeCun",
          handle: "@ylecun",
          avatar: "https://picsum.photos/seed/ylecun/80/80",
          date: "2h ago",
          summary_cn:
            "生成式 AI 需向“世界模型”进化。目前 LLM 仅预测下一个 Token，缺乏对物理因果的理解。",
          summary_en:
            "Generative AI needs to evolve into World Models. Current LLMs lack physical causality understanding.",
          original_text:
            "Auto-Regressive LLMs are cool but they are not the destination. To reach human-level AI, we need systems that can reason, plan, and understand the physical world through World Models.",
          url: "https://x.com/ylecun",
          has_image: false,
        },
      ],
      more_x_updates: [],
      subs_updates: [
        {
          id: 101,
          title: "AI Prompt Engineering in 2025",
          author: "Sander Schulhoff",
          date: "新发布",
          cover: "https://picsum.photos/seed/ai2025/600/400",
          duration: "1:32:15",
        },
        {
          id: 102,
          title: "Next.js 14 Full Course 2025",
          author: "Web Dev Simplified",
          date: "5 小时前",
          cover: "https://picsum.photos/seed/next14/600/400",
          duration: "45:00",
        },
        {
          id: 103,
          title: "Understanding Quantum Computing",
          author: "Veritasium",
          date: "1 天前",
          cover: "https://picsum.photos/seed/quantum/600/400",
          duration: "18:20",
        },
        {
          id: 104,
          title: "Figma to Code Workflow",
          author: "DesignCourse",
          date: "2 天前",
          cover: "https://picsum.photos/seed/figma/600/400",
          duration: "24:10",
        },
      ],
      daily_picks: [
        {
          id: 201,
          title: "How the Economic Machine Works",
          author: "Ray Dalio",
          cover: "https://picsum.photos/seed/finance/600/400",
        },
        {
          id: 202,
          title: "Visualizing Neural Networks",
          author: "3Blue1Brown",
          cover: "https://picsum.photos/seed/nn/600/400",
        },
        {
          id: 203,
          title: "The Future of AI Agents",
          author: "Lex Fridman",
          cover: "https://picsum.photos/seed/agent/600/400",
        },
      ],
    };

    // ==== Prompt 对应的详情结构：中英加强版 ====
    const SAMPLE_DETAIL_PRO = {
      overview: {
        en:
          'This talk explains why prompt engineering is not dead but has ' +
          'evolved into "Artificial Social Intelligence" — a way of talking to models that makes their reasoning more reliable.',
        cn:
          "本次内容强调：提示工程并没有过时，而是进化成一种“人工社交智能”——通过更符合人际沟通的方式与模型对话，让输出更稳定、更可控。",
      },
      timeline: [
        {
          time: "00:00",
          en: "Why prompt engineering still matters in 2025",
          cn: "为什么在 2025 年提示工程依然重要",
        },
        {
          time: "06:24",
          en: "Artificial Social Intelligence as a new framing",
          cn: "将提示工程视为“人工社交智能”",
        },
        {
          time: "12:24",
          en: "Few-shot prompting and the power of examples",
          cn: "少样本提示：示例比规则更重要",
        },
        {
          time: "25:03",
          en: "Decomposition + self-critique as a pattern",
          cn: "任务拆解 + 自我校对的组合拳",
        },
      ],
      deepDive: [
        {
          label: "Few-shot · 什么时候用",
          text:
            "当任务规则难以精确描述（例如“这类表达是否自然”、风格模仿），或者零样本输出不稳定时，用少量高质量示例给模型“示范”正确答案。",
        },
        {
          label: "Few-shot · 怎么选例子",
          text:
            "优先选择边界案例和反例，而不是随手挑 10 个普通样本。3–5 个有代表性的例子往往比 10 个普通例子更有效。",
        },
        {
          label: "Few-shot · 如何组织格式",
          text:
            "用结构化包裹，例如 JSON / XML：包含 input、ideal_output 和可选 rationale 字段，既方便维护，又能触发更稳定的思维链。",
        },
      ],
      english: {
        coreTakeaways: [
          {
            en: "Prompt engineering is effectively Artificial Social Intelligence.",
            cn: "提示工程本质上是一种“人工社交智能”。",
          },
          {
            en: "Few-shot examples are the single most powerful lever for accuracy.",
            cn: "少样本示例是提升准确率的最强杠杆。",
          },
          {
            en: "You can patch a bug — not a brain.",
            cn: "你可以修补代码漏洞，但很难“修补”人的思维方式。",
          },
        ],
        keywords: [
          {
            word: "Few-shot prompting",
            en:
              "Teaching the model with a handful of input–output examples instead of pure instructions.",
            cn: "少样本提示：用少量示范样本而不是纯说明文字来教模型做事。",
          },
          {
            word: "Decomposition",
            en: "Breaking a complex task into smaller steps that are easier to solve.",
            cn: "任务分解：把复杂任务拆成更容易解决的小步骤。",
          },
          {
            word: "Self-critique",
            en: "Letting the model review and improve its own answer.",
            cn: "自我批评：让模型先给出答案，再自己做一次审稿和改写。",
          },
        ],
      },
      phraseDrill: [
        {
          en: "Treat the model like a collaborator, not a vending machine.",
          cn: "把模型当合作伙伴，而不是自动售货机。",
        },
        {
          en: "Show, don't just tell, through high-quality examples.",
          cn: "别只下指令，要用高质量示例“做给它看”。",
        },
      ],
      reflection: {
        questions: [
          "如果只保留 3 个 Few-shot 示例，你会选哪几个？为什么？",
          "你现在在用的提示里，有没有可以改写成“人工社交对话”的地方？",
        ],
        finalNote: {
          en:
            "The real leverage is not in writing clever prompts once, but in building a small, reusable library of examples that encode how *you* think.",
          cn:
            "真正的杠杆不在于偶尔写出一个绝妙提示词，而在于沉淀一小套可复用的示例库，把“你的思维方式”固化进去。",
        },
      },
    };

    // ==== Prompt 对应的详情结构：中文简版 ====
    const SAMPLE_DETAIL_CN = {
      overview:
        "这期内容围绕“提示工程是否过时”展开，从提问方式、示例设计到结构化输出，给出了一套在大模型时代依然有效的实用框架。看完后，你应该能改写自己常用的 2–3 条 Prompt，并开始沉淀一个小型示例库。",
      timeline: [
        {
          time: "00:00",
          text: "提出核心问题：大模型时代，提示工程是否已经过时？",
        },
        {
          time: "06:24",
          text: "给出新视角：提示工程 = 人工社交智能，关键在于“如何和模型说话”。",
        },
        {
          time: "12:24",
          text: "通过案例说明 Few-shot 为什么能显著提升复杂任务的稳定性和准确率。",
        },
        {
          time: "25:03",
          text: "总结一套通用框架：任务拆解 + 自我校对，作为日常写 Prompt 的基础套路。",
        },
      ],
      keyConcepts: [
        {
          title: "人工社交智能",
          desc:
            "与其说是在“写提示”，不如说是在练习如何与一个强大但有偏好的合作者对话。",
        },
        {
          title: "示例优先于规则",
          desc:
            "很多任务是“说不清但看得懂”的，用示范样本往往比罗列规则更有效。",
        },
        {
          title: "结构化输出",
          desc:
            "用 JSON / 列表等结构，既方便机器解析，也方便你后续复用和拼装。",
        },
      ],
      summaryBullets: [
        "提示工程没有消失，而是进化成一套“沟通范式”：你如何提问，决定了模型如何“思考”。",
        "少样本示例是当前大模型下最稳、最实用的性能放大器，适合复杂判断类任务。",
        "一套可复用的 Prompt + 示例库，是你个人工作流里的“生产力资产”，值得花时间打磨。",
      ],
      closing:
        "如果这期视频你只能带走一个改变：从今天开始，把你写得最满意的 3–5 个 Prompt 和对应示例单独存起来，作为个人 Prompt Library 的起点。后续所有复杂任务，先翻一翻这套库，再决定怎么问模型。",
    };

    function TweetCard({ data }) {
      const [expanded, setExpanded] = useState(false);
      return (
        <div className="bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition p-4 flex flex-col relative overflow-hidden group">
          <div className="absolute top-0 right-0 p-3 opacity-5 group-hover:opacity-10 transition pointer-events-none">
            <Icons.XLogo className="w-16 h-16" />
          </div>
          <div className="flex items-center justify-between mb-3 z-10">
            <div className="flex items-center gap-3">
              <img
                src={data.avatar}
                alt={data.author}
                className="w-9 h-9 rounded-full border border-slate-100"
              />
              <div>
                <h4 className="font-bold text-slate-800 text-sm flex items-center gap-1">
                  {data.author}
                  <span className="text-blue-500">
                    <svg
                      className="w-3 h-3 fill-current"
                      viewBox="0 0 24 24"
                    >
                      <path d="M9 16.17 4.83 12 3.41 13.41 9 19l12-12-1.41-1.41z" />
                    </svg>
                  </span>
                </h4>
                <span className="text-[10px] text-slate-400">
                  {data.handle} · {data.date}
                </span>
              </div>
            </div>
            <a
              href={data.url}
              target="_blank"
              rel="noreferrer"
              className="text-slate-300 hover:text-black transition"
            >
              <Icons.XLogo className="w-3.5 h-3.5" />
            </a>
          </div>
          <div className="bg-slate-50/80 rounded-lg p-3 mb-3 border border-slate-100 z-10">
            <div className="mb-2">
              <span className="text-[10px] font-bold text-indigo-400 uppercase tracking-wider mb-0.5 block">
                Core Insight
              </span>
              <p className="text-sm text-slate-700 font-medium leading-relaxed">
                {data.summary_cn}
              </p>
            </div>
            {expanded && (
              <div className="pt-2 border-t border-slate-200">
                <span className="text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-0.5 block">
                  Original Summary
                </span>
                <p className="text-xs text-slate-500 leading-relaxed">
                  {data.summary_en}
                </p>
              </div>
            )}
          </div>
          {expanded && (
            <div className="mb-3">
              <p className="text-xs text-slate-600 font-mono bg-white p-3 rounded border border-slate-100 whitespace-pre-line mb-3">
                {data.original_text}
              </p>
            </div>
          )}
          <div className="z-10 mt-auto pt-2 border-t border-slate-50 flex items-center justify-between">
            <button
              onClick={() => setExpanded((v) => !v)}
              className="text-xs font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1 transition"
            >
              {expanded ? (
                <>
                  收起 <Icons.ChevronUp className="w-3 h-3" />
                </>
              ) : (
                <>
                  展开 <Icons.ChevronDown className="w-3 h-3" />
                </>
              )}
            </button>
          </div>
        </div>
      );
    }

    function Header() {
      return (
        <nav className="h-16 bg-white border-b border-slate-200 sticky top-0 z-50 px-4 md:px-8 flex items-center justify-between">
          <div className="flex items-center gap-2 text-slate-800 cursor-pointer group">
            <div className="bg-indigo-600 text-white p-1.5 rounded-lg group-hover:scale-105 transition">
              <Icons.Play className="w-5 h-5" />
            </div>
            <span className="font-bold text-xl tracking-tight hidden md:inline">
              YouTube & X <span className="text-indigo-600">Assist</span>
            </span>
            <span className="font-bold text-xl tracking-tight md:hidden">
              YT & X <span className="text-indigo-600">Assist</span>
            </span>
          </div>
        </nav>
      );
    }

    function App() {
      const [url, setUrl] = useState("");
      const [error, setError] = useState("");
      const [showAllTweets, setShowAllTweets] = useState(false);
      const [view, setView] = useState("home"); // home | detail
      const [selectedVideo, setSelectedVideo] = useState(null);
      const [detailTab, setDetailTab] = useState("cn"); // cn | pro

      const handleSubmit = () => {
        if (!url.trim()) {
          setError("请先粘贴一个链接（当前预览使用示例数据）");
          return;
        }
        setError("");
        alert("预览模式：这里会根据链接生成学习卡并进入详情页");
      };

      const handleVideoClick = (item) => {
        setSelectedVideo(item);
        setDetailTab("cn");
        setView("detail");
      };

      const tweets = showAllTweets
        ? [...SAMPLE_HOME.x_updates, ...SAMPLE_HOME.more_x_updates]
        : SAMPLE_HOME.x_updates;

      // 详情页
      if (view === "detail" && selectedVideo) {
        const pro = SAMPLE_DETAIL_PRO;
        const cnSimple = SAMPLE_DETAIL_CN;

        return (
          <div className="min-h-screen flex flex-col bg-slate-50">
            <Header />
            <main className="flex-1">
              <div className="max-w-6xl mx-auto px-4 pt-10 pb-12">
                <button
                  onClick={() => setView("home")}
                  className="mb-6 inline-flex items-center gap-2 text-xs font-bold text-slate-500 hover:text-indigo-600"
                >
                  <span className="inline-block rotate-180">
                    <Icons.ChevronDown className="w-4 h-4" />
                  </span>
                  返回首页
                </button>

                <div className="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start mb-6">
                  <div className="lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                    <div className="aspect-video bg-slate-900 relative">
                      <img
                        src={selectedVideo.cover}
                        className="w-full h-full object-cover opacity-80"
                        alt={selectedVideo.title}
                      />
                      <div className="absolute inset-0 flex items-center justify-center">
                        <div className="w-16 h-16 bg-white/20 backdrop-blur rounded-full flex items-center justify-center">
                          <Icons.Play className="w-7 h-7 text-white" />
                        </div>
                      </div>
                    </div>
                    <div className="p-6">
                      <h1 className="text-xl font-bold text-slate-900 mb-2">
                        {selectedVideo.title}
                      </h1>
                      <p className="text-sm text-slate-500 mb-2">
                        {selectedVideo.author}
                      </p>
                      <p className="text-xs text-slate-400">
                        下面的内容为示例学习模版，真实项目中会由后端根据视频脚本生成。
                      </p>
                    </div>
                  </div>
                  <div className="lg:col-span-1 space-y-4">
                    <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-4">
                      <h3 className="text-sm font-bold text-slate-800 mb-2">
                        示例 · 基本信息
                      </h3>
                      <ul className="space-y-1 text-xs text-slate-600">
                        <li>类型：长视频 · Lecture / Talk</li>
                        <li>适用场景：LLM 工程、Prompt 设计学习</li>
                        <li>推荐模式：先看「中英加强版」，再用中文简版复盘</li>
                      </ul>
                    </div>
                    <div className="bg-indigo-50 rounded-2xl border border-indigo-100 p-4 text-xs text-slate-700 leading-relaxed">
                      <p className="font-bold text-indigo-700 mb-1">提示：</p>
                      <p>
                        真实落地时，你只需要让后端返回和本示例相同结构的 JSON
                        （pro + cn_simple 两个 variant），前端按块渲染即可，无需改页面逻辑。
                      </p>
                    </div>
                  </div>
                </div>

                {/* Tab */}
                <div className="bg-slate-200 p-1 rounded-lg flex font-medium text-sm mb-6 w-full md:w-96">
                  <button
                    onClick={() => setDetailTab("cn")}
                    className={
                      "flex-1 py-2 rounded-md transition-all flex items-center justify-center gap-2 " +
                      (detailTab === "cn"
                        ? "bg-white text-indigo-600 shadow-sm"
                        : "text-slate-500 hover:text-slate-700")
                    }
                  >
                    中文简版 · 快速扫一遍
                  </button>
                  <button
                    onClick={() => setDetailTab("pro")}
                    className={
                      "flex-1 py-2 rounded-md transition-all flex items-center justify-center gap-2 " +
                      (detailTab === "pro"
                        ? "bg-indigo-600 text-white shadow-sm"
                        : "text-slate-500 hover:text-slate-700")
                    }
                  >
                    中英加强版
                  </button>
                </div>

                {detailTab === "pro" ? (
                  <div className="space-y-6">
                    {/* Overview */}
                    <section className="bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                      <h3 className="font-bold text-slate-800 text-sm mb-2">
                        Overview · 整体内容概要
                      </h3>
                      <p className="text-sm text-slate-600 leading-relaxed mb-1">
                        {pro.overview.en}
                      </p>
                      <p className="text-xs text-slate-500 leading-relaxed">
                        {pro.overview.cn}
                      </p>
                    </section>

                    {/* Timeline */}
                    <section className="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden">
                      <div className="bg-slate-50 px-5 py-3 border-b border-slate-100">
                        <h3 className="font-bold text-slate-800 text-sm flex items-center gap-2">
                          时间线摘要 · Timeline Summary
                        </h3>
                      </div>
                      <div className="divide-y divide-slate-50">
                        {pro.timeline.map((seg) => (
                          <div
                            key={seg.time}
                            className="p-4 pl-6 flex gap-4 hover:bg-slate-50 transition"
                          >
                            <div className="mt-1">
                              <span className="font-mono text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded">
                                {seg.time}
                              </span>
                            </div>
                            <div>
                              <h4 className="font-bold text-slate-800 text-sm mb-0.5">
                                {seg.en}
                              </h4>
                              <p className="text-xs text-slate-500">{seg.cn}</p>
                            </div>
                          </div>
                        ))}
                      </div>
                    </section>

                    {/* Deep Dive */}
                    <section className="bg-slate-800 rounded-xl p-6 text-white shadow-lg relative overflow-hidden">
                      <div className="absolute -top-10 -right-10 w-32 h-32 bg-indigo-500 rounded-full blur-3xl opacity-20"></div>
                      <div className="relative z-10">
                        <h3 className="font-bold text-lg mb-4">
                          Deep Dive · Few-shot 实战拆解
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                          {pro.deepDive.map((point) => (
                            <div
                              key={point.label}
                              className="bg-white/10 border border-white/10 rounded-lg p-3 hover:bg-white/15 transition"
                            >
                              <div className="text-xs font-bold text-indigo-200 mb-1">
                                {point.label}
                              </div>
                              <div className="text-xs text-slate-100 leading-relaxed">
                                {point.text}
                              </div>
                            </div>
                          ))}
                        </div>
                      </div>
                    </section>

                    {/* English Learning */}
                    <section className="grid grid-cols-1 lg:grid-cols-2 gap-4">
                      <div className="bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                        <h3 className="font-bold text-slate-800 text-sm mb-3">
                          Core Takeaways · 核心要点
                        </h3>
                        <div className="space-y-3">
                          {pro.english.coreTakeaways.map((item, idx) => (
                            <div
                              key={idx}
                              className="border border-slate-100 rounded-lg p-3"
                            >
                              <p className="text-slate-900 text-sm font-semibold mb-1">
                                {item.en}
                              </p>
                              <p className="text-xs text-slate-500">
                                {item.cn}
                              </p>
                            </div>
                          ))}
                        </div>
                      </div>

                      <div className="bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                        <h3 className="font-bold text-slate-800 text-sm mb-3">
                          Keywords & Usage · 关键术语
                        </h3>
                        <div className="space-y-3">
                          {pro.english.keywords.map((kw) => (
                            <div
                              key={kw.word}
                              className="border border-slate-100 rounded-lg p-3"
                            >
                              <div className="flex items-center justify-between mb-1">
                                <span className="text-sm font-bold text-indigo-700">
                                  {kw.word}
                                </span>
                              </div>
                              <p className="text-xs text-slate-500 mb-1">
                                {kw.en}
                              </p>
                              <p className="text-xs text-slate-600">
                                {kw.cn}
                              </p>
                            </div>
                          ))}
                        </div>
                      </div>
                    </section>

                    {/* Phrase + Reflection */}
                    <section className="grid grid-cols-1 lg:grid-cols-2 gap-4">
                      <div className="bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                        <h3 className="font-bold text-slate-800 text-sm mb-3">
                          Phrase Drill · 句型跟读
                        </h3>
                        <div className="space-y-3">
                          {pro.phraseDrill.map((p, idx) => (
                            <div
                              key={idx}
                              className="border border-slate-100 rounded-lg p-3"
                            >
                              <p className="text-xs text-slate-500 mb-1">
                                {p.en}
                              </p>
                              <p className="text-xs text-slate-600">
                                {p.cn}
                              </p>
                            </div>
                          ))}
                        </div>
                      </div>

                      <div className="bg-white rounded-xl border border-slate-200 shadow-sm p-5 flex flex-col gap-3">
                        <div>
                          <h3 className="font-bold text-slate-800 text-sm mb-2">
                            Reflection · 反思问题
                          </h3>
                          <ul className="list-disc list-inside space-y-1 text-xs text-slate-600">
                            {pro.reflection.questions.map((q, idx) => (
                              <li key={idx}>{q}</li>
                            ))}
                          </ul>
                        </div>
                        <div className="border-top border-slate-100 pt-2 text-xs text-slate-600">
                          <p className="font-semibold mb-1">
                            Final Note · 结语
                          </p>
                          <p className="mb-1">
                            {pro.reflection.finalNote.en}
                          </p>
                          <p>{pro.reflection.finalNote.cn}</p>
                        </div>
                      </div>
                    </section>
                  </div>
                ) : (
                  <div className="space-y-6">
                    {/* CN overview */}
                    <section className="bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                      <h3 className="font-bold text-slate-800 text-sm mb-2">
                        整体内容概要
                      </h3>
                      <p className="text-xs text-slate-600 leading-relaxed">
                        {cnSimple.overview}
                      </p>
                    </section>

                    {/* CN timeline */}
                    <section className="bg-white rounded-xl border border-slate-200 shadow-sm">
                      <div className="bg-slate-50 px-5 py-3 border-b border-slate-100">
                        <h3 className="font-bold text-slate-800 text-sm">
                          时间线概要（中文简版）
                        </h3>
                      </div>
                      <div className="divide-y divide-slate-50">
                        {cnSimple.timeline.map((seg) => (
                          <div
                            key={seg.time}
                            className="p-4 flex gap-3"
                          >
                            <span className="font-mono text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded h-fit">
                              {seg.time}
                            </span>
                            <p className="text-xs text-slate-600 leading-relaxed">
                              {seg.text}
                            </p>
                          </div>
                        ))}
                      </div>
                    </section>

                    {/* CN key concepts */}
                    <section className="bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                      <h3 className="font-bold text-slate-800 text-sm mb-3">
                        重点概念速览
                      </h3>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                        {cnSimple.keyConcepts.map((k) => (
                          <div
                            key={k.title}
                            className="border border-slate-100 rounded-lg p-3 bg-slate-50/60"
                          >
                            <p className="text-xs font-bold text-slate-800 mb-1">
                              {k.title}
                            </p>
                            <p className="text-xs text-slate-600 leading-relaxed">
                              {k.desc}
                            </p>
                          </div>
                        ))}
                      </div>
                    </section>

                    {/* CN summary + closing */}
                    <section className="bg-white rounded-xl border border-slate-200 shadow-sm p-5">
                      <h3 className="font-bold text-slate-800 text-sm mb-3">
                        三句话总结
                      </h3>
                      <ul className="list-disc list-inside space-y-1 text-xs text-slate-600 mb-4">
                        {cnSimple.summaryBullets.map((s, idx) => (
                          <li key={idx}>{s}</li>
                        ))}
                      </ul>
                      <div className="bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-xs text-slate-700 leading-relaxed">
                        <p>{cnSimple.closing}</p>
                      </div>
                    </section>
                  </div>
                )}
              </div>
            </main>
            <footer className="py-4 px-4 md:px-8 border-t border-slate-200 bg-white mt-4">
              <div className="max-w-7xl mx-auto text-center">
                <p className="text-sm text-slate-500">
                  大脾气和大脑袋联合出品 · Prompt 学习模版预览
                </p>
              </div>
            </footer>
          </div>
        );
      }

      // 首页
      return (
        <div className="min-h-screen flex flex-col bg-slate-50">
          <Header />
          <main className="flex-1">
            <div className="max-w-7xl mx-auto px-4 pt-10 pb-12">
              <div className="text-center mb-12 max-w-4xl mx-auto">
                <h1 className="text-3xl md:text-5xl font-extrabold text-slate-900 mb-4 tracking-tight">
                  跨平台知识提炼 <span className="text-indigo-600">一站搞定</span>
                </h1>
                <p className="text-base text-slate-500 mb-8 leading-relaxed">
                  输入链接，即刻生成双语笔记。支持 YouTube 深度视频与 X 碎片化观点。
                </p>
                <div className="relative max-w-xl mx-auto group mb-4">
                  <div className="absolute inset-0 bg-indigo-200 rounded-2xl blur opacity-20 group-hover:opacity-40 transition" />
                  <div className="relative bg-white p-1.5 rounded-2xl shadow-xl border border-slate-200 flex items-center">
                    <div className="pl-3 text-slate-400">
                      <Icons.Search className="w-5 h-5" />
                    </div>
                    <input
                      type="text"
                      placeholder="粘贴 YouTube / X 视频链接...（预览模式使用示例数据）"
                      className="flex-1 p-3 outline-none text-slate-700 text-base placeholder:text-slate-300 bg-transparent"
                      value={url}
                      onChange={(e) => setUrl(e.target.value)}
                      onKeyDown={(e) => e.key === "Enter" && handleSubmit()}
                    />
                    <button
                      onClick={handleSubmit}
                      className="bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl font-medium transition flex items-center gap-2 shadow-lg shadow-indigo-200 text-sm"
                    >
                      开始
                    </button>
                  </div>
                </div>
                {error && (
                  <span className="text-xs text-red-500 bg-red-50 px-2 py-1 rounded border border-red-100">
                    {error}
                  </span>
                )}
              </div>

              <div className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                {/* 左：X 快讯 */}
                <div className="lg:col-span-4 flex flex-col gap-6">
                  <div className="flex items-center justify-between pb-2 border-b border-slate-200">
                    <h3 className="text-sm font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2">
                      <Icons.XLogo className="w-4 h-4" /> 作者观点快讯
                    </h3>
                    <span className="text-[10px] bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full">
                      语义补充
                    </span>
                  </div>
                  <div className="space-y-4">
                    <div className="bg-indigo-50/70 border border-indigo-100 rounded-xl p-3 flex flex-col gap-2">
                      <p className="text-xs text-slate-700 text-left leading-relaxed">
                        AI 已帮你聚合近期在 X 上关于 LLM、世界模型和算力的核心观点，可视作当前长视频主题的「延伸阅读」。你可以一键把这些观点也整理成学习卡（当前为静态示例）。
                      </p>
                    </div>
                    {tweets.map((t) => (
                      <TweetCard key={t.id} data={t} />
                    ))}
                  </div>
                  <button
                    onClick={() => setShowAllTweets((v) => !v)}
                    className="w-full py-3 rounded-xl border border-dashed border-slate-300 text-xs font-bold text-slate-500 hover:text-indigo-600 hover:border-indigo-300 hover:bg-indigo-50 transition flex items-center justify-center gap-2 group"
                  >
                    {showAllTweets ? (
                      <>
                        收起历史推文 <Icons.ChevronUp className="w-3 h-3" />
                      </>
                    ) : (
                      <>
                        查看订阅用户近 7 天推文{" "}
                        <Icons.ChevronDown className="w-3 h-3 group-hover:translate-y-0.5 transition" />
                      </>
                    )}
                  </button>
                </div>

                {/* 右：YouTube 订阅 */}
                <div className="lg:col-span-8 flex flex-col gap-6">
                  <div className="flex items-center justify-between pb-2 border-b border-slate-200">
                    <h3 className="text-sm font-bold text-slate-700 uppercase tracking-wider flex items-center gap-2">
                      <Icons.Play className="w-4 h-4 text-red-600" /> YouTube
                      订阅更新
                    </h3>
                  </div>
                  <div className="grid grid-cols-1 sm:grid-cols-2 gap-5">
                    {SAMPLE_HOME.subs_updates.map((item, i) => (
                      <div
                        key={item.id}
                        onClick={() => handleVideoClick(item)}
                        className="bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md hover:-translate-y-1 transition cursor-pointer group flex flex-col overflow-hidden"
                      >
                        <div className="aspect-video relative bg-slate-100">
                          <img
                            src={item.cover}
                            className="w-full h-full object-cover"
                          />
                          <span className="absolute bottom-2 right-2 bg-black/70 text-white text-[10px] px-1.5 py-0.5 rounded">
                            {item.duration}
                          </span>
                          {i === 0 && (
                            <div className="absolute top-2 left-2 bg-indigo-600 text-white text-[10px] px-2 py-0.5 rounded font-bold shadow-sm">
                              NEW
                            </div>
                          )}
                        </div>
                        <div className="p-4 flex flex-col flex-1 justify-between">
                          <div>
                            <h4 className="font-bold text-slate-800 line-clamp-2 mb-1 group-hover:text-indigo-600 transition text-sm">
                              {item.title}
                            </h4>
                            <p className="text-xs text-slate-500">
                              {item.author}
                            </p>
                          </div>
                          <div className="mt-3 pt-3 border-t border-slate-50 flex justify-between items-center">
                            <span className="text-[10px] text-slate-400">
                              {item.date}
                            </span>
                            <Icons.Play className="w-4 h-4 text-slate-300 group-hover:text-indigo-500 transition" />
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              {/* 今日精选 */}
              <div className="mt-16">
                <div className="flex items-center gap-2 mb-6">
                  <h3 className="text-sm font-bold text-slate-500 uppercase tracking-wider">
                    今日精选
                  </h3>
                  <div className="h-px flex-1 bg-slate-200"></div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  {SAMPLE_HOME.daily_picks.map((item) => (
                    <div
                      key={item.id}
                      onClick={() => handleVideoClick(item)}
                      className="bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md hover:-translate-y-1 transition cursor-pointer group overflow-hidden flex items-center md:block"
                    >
                      <div className="w-1/3 md:w-full md:aspect-video bg-slate-100 relative shrink-0 h-24 md:h-auto">
                        <img
                          src={item.cover}
                          className="w-full h-full object-cover grayscale group-hover:grayscale-0 transition duration-500"
                        />
                      </div>
                      <div className="p-3 md:p-4">
                        <h4 className="font-bold text-slate-800 line-clamp-2 mb-1 group-hover:text-indigo-600 transition text-sm">
                          {item.title}
                        </h4>
                        <p className="text-xs text-slate-500">{item.author}</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </main>
          <footer className="py-4 px-4 md:px-8 border-t border-slate-200 bg-white mt-4">
            <div className="max-w-7xl mx-auto text-center">
              <p className="text-sm text-slate-500">
                大脾气和大脑袋联合出品 · Prompt 学习模版预览
              </p>
            </div>
          </footer>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
